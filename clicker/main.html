<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>игра</title>
    <script src="minajax.js"></script>

    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/phaser/2.6.2/phaser.js"></script>

</head>
<body>
<script>
   var game = new Phaser.Game(1960, 1080, Phaser.AUTO, "phaser-example", {preload:preload, create:create, update:update, render:render});
   var goToM = false;
   var playerBet;
   var s;

   function createBet() {
       var bet = game.add.sprite(0, 0, 'test');
       bet.anchor.setTo(0.5, 0.5);
       return bet;
   }

    function preload() {
        game.load.image("test", "favicon_m.png");
        game.load.image("test2", "bita.png");

    }

    function create() {

        game.stage.backgroundColor = "#ffffff";
        game.input.onDown.add(mouseDown);
        playerBet = createBet();
        goHome();
        s = game.add.sprite(0, 0, 'test2');
    }

    function mouseDown(e) {
       goToM = !goToM;
       console.debug(e)
    }

   function goHome() {
        playerBet.position.x = game.world.centerX;
        playerBet.position.y = 600
    }

   function update() {
       s.position.x += 4;
        if (goToM) {
            playerBet.position = game.input.position;
        } else {
            goHome()
        }
    }

    function render() {

    }
</script>

</body>
</html>